---
layout:     post                    # 使用的布局（不需要改）
title:      字节跳动一二三面凉经               # 标题 
subtitle:    #副标题
date:       2020-12-17              # 时间
author:     serenity                      # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Java
    - 面经
---

### 一面（1h40min）

#### 项目

上来自我介绍，强调了下os和设计模式还没学完（其实是没复习），看了简历之后问了最满意的一个项目是什么，说了一个用了一些设计模式的项目

#### 设计模式

工厂模式和抽象工厂模式

（项目中怎么用的）策略模式、观察者模式、建造者模式

策略模式满足的oop原则、缺点（这个没答上来）

#### Java

hashmap、concurrenthashmap、hashtable

hashmap底层怎么实现的

hashmap长度为什么是2^n，为什么不用object自带的hashcode()

为什么conflict到8之后转成红黑树

如果删掉一些是否会从红黑树变回链表（回答的是小于6会变）

hashmap扩容，为什么是两倍扩容

arraylist是几倍扩容

线程池了解吗，讲一下有哪些核心参数

哪几种常用的线程池

提交一个新task给线程池流程是什么

task会被丢弃吗，怎么设计保证不会丢弃task（答了四种拒绝策略，后面一个没说上来）

（不知道哪里提到了锁）什么叫可重入锁

reentrantlock和synchronizated的区别

Java有哪几种锁（感觉答偏了，我说这个问法有点问题，应该是锁有哪些特性，说了可重入、可中断、公平性，然后举了几个例子）

如果让你实现可重入性要怎么写（没看过源码，不知道）

jvm的gc有哪几种（别问了，jvm都忘光了）

中间件知道吗，比如redis（答不知道，nosql只用过mongdb）

讲一下mongdb和MySQL的区别，使用场景

#### 数据库

四种隔离级别，MySQL默认的是哪一种

讲一下mvcc和gap lock

事务执行到一半另一个事务undo了会怎么样

#### 算法

最长不重复子串

挺简单的题目。。但是我没复习leetcode，就从暴力解法开始说起，后来说了个用map记录各个字母最长间距的改进，后来又说了滑动窗口

面试官让讲了下滑动窗口的细节，然后投屏写

用的python，面试官大哥还很震惊的强调了下部门的技术栈是Java

写了大概5min，但是有个小bug没修出来（后来看出来是更新map的位置错了，淦）面试官大哥说时间不多了，再问两个问题

#### 数据库

知道MySQL的索引机制吗，讲一下（讲了b+树和b树比较，聚簇索引、辅助索引、非聚簇索引，提到了非聚簇索引要回表）

非聚簇索引都要回表吗

讲一下覆盖索引

最左前缀原则

怎么优化sql，怎么确定是不是索引生效了（讲了用explain）

explain怎么看用了哪个索引

聚簇索引和非聚簇索引的优缺点

#### 反问

部门业务

要是被挂了能不能面其他部门（他也不知道，让我问HR）

### 二面（35min）

#### 项目

自我介绍+问项目

springboot比spring mvc的优势

spring ioc

开投屏用springboot写一个接口然后postman测一下

springboot的事务

#### 计网

OSI七层模型

ICMP是哪一层的

三次握手，四次挥手

为什么SYN是随机的

为什么等2MSL

为什么服务器会出现大量半连接（SYN_RCVD）

讲几种网络攻击方式，怎么预防

#### 算法

手撸快排，怎么优化（先口述一下细节，然后再写）

**刚写没几分钟说他还有点事，帮我联系三面了**

**大概不到2min之后三面**

### 三面（1h）

#### 介绍

三面的面试官看着就不太高兴。。自我介绍之后上来先问了我人在南京的话能线下实习多久

#### 算法

先是两道算法

leetcode42 接雨水（大二下cpp作业写过），上来就写了dp，但是空间没优化到他要求的O(1)，真想不出来右端指针那里怎么优化的

**翻车现场来了**

leetcode456 132模式，一开始题目理解错了，后来被面试官提醒了下之后先说了暴力(N\^3)的优化，面试官问能不能从O(N\^2)到O(N)，然后开始长达10min的精神错乱胡言乱语状态，最后他说算了你写一下O(N\^2)的。。。然后又当场花式写bug（淦 现在想把这段记忆删除），又卡了一会之后面试官大哥说算了算了我们再问点东西

#### 计网

http和https

讲一下https的过程

为什么对称加密快

cookie和session

知道分布式环境下共享session吗（不知道）

#### OS（大哥说好还在学的呢，这还没期末考试我哪会啊）

用户态和内核态

系统调用（讲得不太好）

死锁四种条件（忘了说循环等待，后来举了个例子）

讲一下epoll（别问了别问了，真不会了）

#### JVM（你是不是想我死……）

运行时数据区

classloader（不会不会不会）

#### 数据库

手写sql，找出表里重复数据（手好生，写了not in和union两种，但是面试官大哥看着不太满意）

#### 聊天

之后想干啥

读研不

成绩怎么样

你们院多少人

#### 反问

你看我还有机会吗（等hr通知=没救了，等死吧）

挂了能面其他部门不（能）