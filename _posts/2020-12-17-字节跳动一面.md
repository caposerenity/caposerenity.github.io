---
layout:     post                    # 使用的布局（不需要改）
title:      字节跳动一面面经               # 标题 
subtitle:    #副标题
date:       2020-12-17              # 时间
author:     serenity                      # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Java
    - 面经
---

### 字节一面凉经

#### 项目

上来自我介绍，强调了下os和设计模式还没学完（其实是没复习），看了简历之后问了最满意的一个项目是什么，说了一个用了一些设计模式的项目

#### 设计模式

工厂模式和抽象工厂模式

（项目中怎么用的）策略模式、观察者模式、建造者模式

策略模式满足的oop原则、缺点（这个没答上来）

#### Java

hashmap、concurrenthashmap、hashtable

hashmap底层怎么实现的

hashmap长度为什么是2^n，为什么不用object自带的hashcode()

为什么conflict到8之后转成红黑树

如果删掉一些是否会从红黑树变回链表（回答的是小于6会变）

hashmap扩容，为什么是两倍扩容

arraylist是几倍扩容

线程池了解吗，讲一下有哪些核心参数

哪几种常用的线程池

提交一个新task给线程池流程是什么

task会被丢弃吗，怎么设计保证不会丢弃task（答了四种拒绝策略，后面一个没说上来）

（不知道哪里提到了锁）什么叫可重入锁

reentrantlock和synchronizated的区别

Java有哪几种锁（感觉答偏了，我说这个问法有点问题，应该是锁有哪些特性，说了可重入、可中断、公平性，然后举了几个例子）

如果让你实现可重入性要怎么写（没看过源码，不知道）

jvm的gc有哪几种（别问了，jvm都不知道）

中间件知道吗，比如redis（答不知道，nosql只用过mongdb）

讲一下mongdb和MySQL的区别，使用场景

#### 数据库

四种隔离级别，MySQL默认的是哪一种

讲一下mvcc和gap lock

事务执行到一半另一个事务undo了会怎么样

#### 算法

最长不重复子串

挺简单的题目。。但是我没复习leetcode，就从暴力解法开始说起，后来说了个用hash记录各个字母最长间距的改进，后来又说了滑动窗口

面试官让讲了下滑动窗口的细节，然后投屏写

用的python，面试官大哥还很震惊的强调了下部门的技术栈是Java

写了大概5min，但是有个小bug没修出来（后来看出来是更新hash的位置错了，淦）面试官大哥说时间不多了，再问两个问题

#### 数据库

知道MySQL的索引机制吗，讲一下（讲了b+树和b树比较，聚簇索引、辅助索引、非聚簇索引，提到了非聚簇索引要回表）

非聚簇索引都要回表吗

讲一下覆盖索引

最左前缀原则

怎么优化sql，怎么确定是不是索引生效了（讲了用explain）

explain怎么看用了哪个索引

聚簇索引和非聚簇索引的优缺点

#### 反问

部门业务

要是被挂了能不能面其他部门（他也不知道，让我问HR）

